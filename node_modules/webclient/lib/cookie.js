'use strict'
var tough = require('tough-cookie');
var Cookie = tough.Cookie;
var CookieJar = tough.CookieJar;

// Adapt the sometimes-Async api of tough.CookieJar to our requirements
function WebClientJar(store) {
    this._jar = new CookieJar(store);
}
WebClientJar.prototype.setCookie = function(cookieOrStr, uri, options) {
    return this._jar.setCookieSync(cookieOrStr, uri, options || {});
}
WebClientJar.prototype.getCookieString = function(uri) {
    return this._jar.getCookieStringSync(uri);
}
WebClientJar.prototype.getCookies = function(uri) {
    return this._jar.getCookiesSync(uri);
}

module.exports = WebClientJar;

// exports.parse = function(str) {
//   if (str && str.uri) {
//     str = str.uri
//   }
//   if (typeof str !== 'string') {
//     throw new Error('The cookie function only accepts STRING as param')
//   }
//   return Cookie.parse(str)
// }